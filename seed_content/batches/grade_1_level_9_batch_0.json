[
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "number_theory",
        "question": "How many lattice points (x, y) with both x, y integers satisfy x^2 + y^2 ≤ 25?",
        "options": [
            "69",
            "77",
            "81",
            "89",
            "113"
        ],
        "correct_answer": "81",
        "ideal_solution": "Count lattice points inside or on the circle of radius 5. For each integer x in [-5,5], count y values with y^2 ≤ 25-x^2. x=0: y in [-5,5], 11 pts. x=±1: y^2≤24, y in [-4,4], 9 pts each. x=±2: y^2≤21, y in [-4,4], 9 pts each. x=±3: y^2≤16, y in [-4,4], 9 pts each. x=±4: y^2≤9, y in [-3,3], 7 pts each. x=±5: y^2≤0, y=0, 1 pt each. Total: 11+2(9+9+9+7+1)=11+2*35=11+70=81. Socratic Hint: Systematically count for each x value.",
        "failure_modes": {
            "off_by_one": "Student miscounts boundary points.",
            "arithmetic_slip": "Student errors in summing the counts."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "algebra",
        "question": "What is the minimum value of x^2 + y^2 subject to the constraint x + y = 10?",
        "options": [
            "25",
            "50",
            "100",
            "200",
            "10"
        ],
        "correct_answer": "50",
        "ideal_solution": "Substitute y=10-x: f(x) = x^2+(10-x)^2 = 2x^2-20x+100. f'(x)=4x-20=0, x=5, y=5. f(5)=25+25=50. Or by AM-QM inequality / Lagrange multipliers. Socratic Hint: By symmetry, x=y=5 minimizes the sum of squares.",
        "failure_modes": {
            "formula_misapplication": "Student substitutes but doesn't minimize.",
            "arithmetic_slip": "Student computes f(5)=25 (forgetting to add both terms)."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "geometry",
        "question": "What is the volume of a solid of revolution formed by rotating the region between y=x^2 and y=0 for x in [0,1] about the x-axis?",
        "options": [
            "pi/5",
            "pi/4",
            "pi/3",
            "pi/2",
            "pi"
        ],
        "correct_answer": "pi/5",
        "ideal_solution": "V = pi * integral from 0 to 1 of [x^2]^2 dx = pi * integral of x^4 dx = pi * [x^5/5] from 0 to 1 = pi/5. Socratic Hint: Use the disk method: V = pi * ∫[f(x)]^2 dx.",
        "failure_modes": {
            "formula_misapplication": "Student integrates x^2 instead of (x^2)^2.",
            "arithmetic_slip": "Student evaluates the integral incorrectly."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "logic",
        "question": "Ramsey number R(3,3) gives the minimum number of people needed so that there must exist either 3 mutual friends or 3 mutual strangers. What is R(3,3)?",
        "options": [
            "4",
            "5",
            "6",
            "7",
            "9"
        ],
        "correct_answer": "6",
        "ideal_solution": "R(3,3) = 6. Among 6 people, in any 2-coloring of edges of K6, there must be a monochromatic triangle. With 5, a counterexample exists (the cycle C5). Socratic Hint: Check that K5 can be 2-colored without a monochromatic triangle, but K6 cannot.",
        "failure_modes": {
            "off_by_one": "Student says 5 or 7.",
            "converse_error": "Student confuses with other Ramsey numbers."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "number_theory",
        "question": "What is the Chinese Remainder Theorem solution for: x ≡ 2 (mod 3), x ≡ 3 (mod 5), x ≡ 2 (mod 7)?",
        "options": [
            "23",
            "38",
            "53",
            "68",
            "83"
        ],
        "correct_answer": "23",
        "ideal_solution": "Check x=23: 23/3=7 R2 ✓, 23/5=4 R3 ✓, 23/7=3 R2 ✓. By CRT, the solution is unique mod 105 (=3*5*7). So x ≡ 23 (mod 105). Socratic Hint: Solve the system of congruences step by step or check candidates.",
        "failure_modes": {
            "arithmetic_slip": "Student computes incorrectly.",
            "formula_misapplication": "Student doesn't combine correctly."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "algebra",
        "question": "The eigenvalues of matrix A = [[3,1],[0,2]] are:",
        "options": [
            "2 and 3",
            "1 and 6",
            "3 and -2",
            "0 and 5",
            "1 and 4"
        ],
        "correct_answer": "2 and 3",
        "ideal_solution": "For a triangular matrix, eigenvalues are the diagonal entries: 3 and 2. Verify: det(A-λI) = (3-λ)(2-λ) = 0. λ = 2, 3. Socratic Hint: For triangular matrices, the eigenvalues are on the diagonal.",
        "failure_modes": {
            "formula_misapplication": "Student computes the full characteristic polynomial unnecessarily.",
            "arithmetic_slip": "Student expands det incorrectly."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "geometry",
        "question": "What is the formula for the surface area of a torus with inner radius r and outer radius R (tube radius a = (R-r)/2, center radius c = (R+r)/2)?",
        "options": [
            "4*pi^2*a*c",
            "2*pi*a*c",
            "4*pi*a^2",
            "pi*(R^2-r^2)",
            "2*pi^2*R*r"
        ],
        "correct_answer": "4*pi^2*a*c",
        "ideal_solution": "Surface area of a torus = 4*pi^2*a*c where a is the tube radius and c is the distance from the center of the tube to the axis. Socratic Hint: Use Pappus' theorem: surface area = (perimeter of cross-section) × (distance traveled by centroid).",
        "failure_modes": {
            "formula_misapplication": "Student uses pi*(R^2-r^2) (washer area).",
            "arithmetic_slip": "Student confuses a and c."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "logic",
        "question": "How many labeled trees exist on n=5 vertices? (Cayley's formula)",
        "options": [
            "16",
            "25",
            "75",
            "125",
            "625"
        ],
        "correct_answer": "125",
        "ideal_solution": "By Cayley's formula: n^(n-2) = 5^3 = 125. Socratic Hint: Cayley's formula counts labeled trees on n vertices.",
        "failure_modes": {
            "formula_misapplication": "Student uses 5!=120.",
            "arithmetic_slip": "Student computes 5^3=175."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "number_theory",
        "question": "What is the sum 1/1 + 1/2 + 1/3 + ... + 1/10 approximately?",
        "options": [
            "1.5",
            "2.0",
            "2.5",
            "2.93",
            "3.5"
        ],
        "correct_answer": "2.93",
        "ideal_solution": "H(10) = 1 + 0.5 + 0.333 + 0.25 + 0.2 + 0.167 + 0.143 + 0.125 + 0.111 + 0.1 = 2.9290... ≈ 2.93. Socratic Hint: Add each term carefully. This is the 10th harmonic number.",
        "failure_modes": {
            "premature_calculation": "Student rounds too early.",
            "arithmetic_slip": "Student miscalculates partial sums."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "algebra",
        "question": "What is the integral of 1/(x^2+1) dx from 0 to infinity?",
        "options": [
            "pi/4",
            "pi/2",
            "pi",
            "1",
            "Diverges"
        ],
        "correct_answer": "pi/2",
        "ideal_solution": "∫ 1/(x^2+1) dx = arctan(x). From 0 to ∞: arctan(∞) - arctan(0) = pi/2 - 0 = pi/2. Socratic Hint: The antiderivative of 1/(x^2+1) is arctan(x).",
        "failure_modes": {
            "formula_misapplication": "Student uses ln|x^2+1|/2.",
            "converse_error": "Student says it diverges."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "geometry",
        "question": "What is the Euler characteristic of a sphere?",
        "options": [
            "0",
            "1",
            "2",
            "3",
            "4"
        ],
        "correct_answer": "2",
        "ideal_solution": "By Euler's formula for polyhedra: V-E+F = 2 for any convex polyhedron (homeomorphic to a sphere). The Euler characteristic χ = 2. Example: cube: 8-12+6=2. Socratic Hint: V - E + F = 2 for any sphere-like surface.",
        "failure_modes": {
            "converse_error": "Student says 0 (confusing with torus).",
            "formula_misapplication": "Student uses the wrong formula."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "logic",
        "question": "Consider the set S = {1, 2, ..., 100}. How many subsets of S have an even sum?",
        "options": [
            "2^98",
            "2^99",
            "2^99 - 1",
            "2^100 / 2",
            "2^50"
        ],
        "correct_answer": "2^99",
        "ideal_solution": "By symmetry, exactly half of all subsets have even sum and half have odd sum. Total subsets: 2^100. Even-sum subsets: 2^100/2 = 2^99. (This follows by pairing each subset with the subset obtained by toggling element 1.) Socratic Hint: Create a bijection between even-sum and odd-sum subsets.",
        "failure_modes": {
            "off_by_one": "Student excludes the empty set.",
            "formula_misapplication": "Student tries to count directly."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "number_theory",
        "question": "What is the smallest pseudoprime to base 2 (composite number n where 2^(n-1) ≡ 1 mod n)?",
        "options": [
            "15",
            "91",
            "161",
            "341",
            "561"
        ],
        "correct_answer": "341",
        "ideal_solution": "341 = 11 × 31 is composite. 2^340 ≡ 1 (mod 341). This makes 341 the smallest base-2 pseudoprime (Poulet number). Socratic Hint: Check composite numbers n where 2^(n-1) mod n = 1.",
        "failure_modes": {
            "converse_error": "Student says 91 (which is a base-3 pseudoprime but not base-2).",
            "premature_calculation": "Student picks any composite number."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "algebra",
        "question": "What is the dimension of the solution space of a homogeneous system Ax=0 where A is a 3×5 matrix of rank 2?",
        "options": [
            "1",
            "2",
            "3",
            "5",
            "8"
        ],
        "correct_answer": "3",
        "ideal_solution": "By the rank-nullity theorem: dim(null space) = n - rank = 5 - 2 = 3. Socratic Hint: The nullity equals the number of columns minus the rank.",
        "failure_modes": {
            "formula_misapplication": "Student uses 3-2=1 (rows minus rank).",
            "converse_error": "Student says 5 (number of unknowns)."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "geometry",
        "question": "What is the kissing number in 2 dimensions? (Maximum number of non-overlapping unit circles that can touch a central unit circle.)",
        "options": [
            "4",
            "5",
            "6",
            "7",
            "8"
        ],
        "correct_answer": "6",
        "ideal_solution": "In 2D, exactly 6 unit circles can be arranged around a central circle, forming a hexagonal pattern. Each subtends a 60° angle at the center. 360°/60° = 6. Socratic Hint: The touching circles' centers form a regular hexagon.",
        "failure_modes": {
            "overcounting": "Student says 7 (packing too tight).",
            "undercounting": "Student says 4 (thinking square packing)."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "logic",
        "question": "In a sequence a(n) satisfying a(1)=1, a(2)=1, a(n) = a(a(n-1)) + a(n-a(n-1)) for n≥3, what is a(10)? (Hofstadter's Q-like sequence)",
        "options": [
            "4",
            "5",
            "6",
            "7",
            "8"
        ],
        "correct_answer": "6",
        "ideal_solution": "Compute step by step: a(1)=1, a(2)=1. a(3)=a(a(2))+a(3-a(2))=a(1)+a(2)=1+1=2. a(4)=a(a(3))+a(4-a(3))=a(2)+a(2)=1+1=2. a(5)=a(a(4))+a(5-a(4))=a(2)+a(3)=1+2=3. a(6)=a(a(5))+a(6-a(5))=a(3)+a(3)=2+2=4. a(7)=a(a(6))+a(7-a(6))=a(4)+a(3)=2+2=4. a(8)=a(a(7))+a(8-a(7))=a(4)+a(4)=2+2=4. a(9)=a(a(8))+a(9-a(8))=a(4)+a(5)=2+3=5. a(10)=a(a(9))+a(10-a(9))=a(5)+a(5)=3+3=6. Socratic Hint: Build the sequence iteratively.",
        "failure_modes": {
            "arithmetic_slip": "Student miscalculates an intermediate value.",
            "off_by_one": "Student gives a(9)=5 instead of a(10)."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "number_theory",
        "question": "Is there a prime p such that p, p+2, p+6 are all prime? If so, give the smallest such p.",
        "options": [
            "3",
            "5",
            "7",
            "11",
            "No such p exists"
        ],
        "correct_answer": "5",
        "ideal_solution": "p=5: 5, 7, 11 — all prime! p=3: 3, 5, 9 — 9 is not prime. p=7: 7, 9 — 9 not prime. So the smallest p is 5. Socratic Hint: Check small primes systematically.",
        "failure_modes": {
            "off_by_one": "Student checks p=3 (giving 3,5,9) and stops.",
            "converse_error": "Student says no such p exists."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "algebra",
        "question": "What is the Taylor series coefficient of x^3 in sin(x)?",
        "options": [
            "-1/6",
            "1/6",
            "-1/3",
            "1/3",
            "0"
        ],
        "correct_answer": "-1/6",
        "ideal_solution": "sin(x) = x - x^3/3! + x^5/5! - ... Coefficient of x^3 is -1/3! = -1/6. Socratic Hint: The Taylor series for sin(x) has alternating signs and odd powers.",
        "failure_modes": {
            "sign_reversal": "Student gives 1/6 (forgetting the negative).",
            "formula_misapplication": "Student gives -1/3 (wrong factorial)."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "geometry",
        "question": "The Gauss-Bonnet theorem relates the total curvature of a surface to its topology. For a sphere, what is ∫∫ K dA where K is Gaussian curvature 1/R^2?",
        "options": [
            "0",
            "2*pi",
            "4*pi",
            "pi*R^2",
            "2*pi*R"
        ],
        "correct_answer": "4*pi",
        "ideal_solution": "By Gauss-Bonnet: ∫∫ K dA = 2*pi*χ where χ is the Euler characteristic. For a sphere, χ=2. So ∫∫ K dA = 4*pi. Alternatively: K=1/R^2 and surface area = 4*pi*R^2. So ∫∫ K dA = (1/R^2)*(4*pi*R^2) = 4*pi. Socratic Hint: Use the Gauss-Bonnet theorem or direct calculation.",
        "failure_modes": {
            "formula_misapplication": "Student uses χ=1 and gets 2*pi.",
            "arithmetic_slip": "Student forgets to multiply by χ."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "logic",
        "question": "A partially ordered set (poset) on {1,2,3,4} with the divisibility relation (a ≤ b iff a divides b): what is the length of the longest chain?",
        "options": [
            "1",
            "2",
            "3",
            "4",
            "5"
        ],
        "correct_answer": "3",
        "ideal_solution": "Divisibility chains: 1|2|4 (length 3), 1|3 (length 2), 1|4 (length 2), 1|2 (length 2). The longest chain is 1→2→4 with length 3 (3 elements). Socratic Hint: Find the longest sequence where each divides the next.",
        "failure_modes": {
            "off_by_one": "Student counts edges (2) instead of elements (3).",
            "undercounting": "Student misses the chain 1|2|4."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "number_theory",
        "question": "What is the order of the group Z_6 × Z_4? (Direct product)",
        "options": [
            "10",
            "12",
            "24",
            "48",
            "6"
        ],
        "correct_answer": "24",
        "ideal_solution": "|Z_6 × Z_4| = |Z_6| * |Z_4| = 6 * 4 = 24. Socratic Hint: The order of a direct product is the product of the orders.",
        "failure_modes": {
            "formula_misapplication": "Student computes lcm(6,4)=12.",
            "arithmetic_slip": "Student adds 6+4=10."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "algebra",
        "question": "What is the Wronskian of e^x and e^(2x)?",
        "options": [
            "e^x",
            "e^(2x)",
            "e^(3x)",
            "2*e^(3x)",
            "-e^(3x)"
        ],
        "correct_answer": "e^(3x)",
        "ideal_solution": "W = |e^x  e^(2x)| / |e^x  2e^(2x)| = e^x*2e^(2x) - e^(2x)*e^x = 2e^(3x) - e^(3x) = e^(3x). Socratic Hint: Compute the 2x2 determinant of the functions and their derivatives.",
        "failure_modes": {
            "arithmetic_slip": "Student miscalculates the derivatives.",
            "formula_misapplication": "Student takes the sum instead of the determinant."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "geometry",
        "question": "What is the genus of a torus?",
        "options": [
            "0",
            "1",
            "2",
            "3",
            "4"
        ],
        "correct_answer": "1",
        "ideal_solution": "A torus has genus 1 (one 'hole'). Its Euler characteristic is 0 (χ = 2-2g = 2-2=0). Socratic Hint: The genus counts the number of holes in a surface.",
        "failure_modes": {
            "converse_error": "Student says 0 (confusing with sphere).",
            "formula_misapplication": "Student says 2 (confusing with Euler char of sphere)."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "logic",
        "question": "Using generating functions, the number of ways to make change for $1 using pennies, nickels, dimes, and quarters is:",
        "options": [
            "142",
            "212",
            "242",
            "292",
            "342"
        ],
        "correct_answer": "242",
        "ideal_solution": "The generating function is 1/((1-x)(1-x^5)(1-x^10)(1-x^25)). The coefficient of x^100 in this expansion is 242. Socratic Hint: This is a classic combinatorics problem solvable by generating functions or dynamic programming.",
        "failure_modes": {
            "arithmetic_slip": "Student miscounts when enumerating.",
            "formula_misapplication": "Student forgets one of the coin types."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "number_theory",
        "question": "What percentage of positive integers have a leading digit of 1? (According to Benford's Law)",
        "options": [
            "~11.1%",
            "~20%",
            "~30.1%",
            "~50%",
            "Exactly 1/9"
        ],
        "correct_answer": "~30.1%",
        "ideal_solution": "By Benford's Law: P(leading digit d) = log_10(1+1/d). For d=1: log_10(2) ≈ 0.301 = 30.1%. Socratic Hint: Benford's Law arises from the logarithmic distribution of digits.",
        "failure_modes": {
            "converse_error": "Student assumes uniform distribution: 1/9 ≈ 11.1%.",
            "formula_misapplication": "Student uses log_10(1)=0."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "algebra",
        "question": "What is the trace of the 3x3 identity matrix?",
        "options": [
            "0",
            "1",
            "3",
            "9",
            "Undefined"
        ],
        "correct_answer": "3",
        "ideal_solution": "The trace is the sum of diagonal elements: 1+1+1 = 3. Socratic Hint: The n×n identity matrix has trace n.",
        "failure_modes": {
            "formula_misapplication": "Student says 1 (one diagonal element).",
            "converse_error": "Student computes determinant (also 1) instead of trace."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "geometry",
        "question": "In projective geometry, two distinct lines always intersect in how many points?",
        "options": [
            "0",
            "1",
            "2",
            "Infinitely many",
            "It depends"
        ],
        "correct_answer": "1",
        "ideal_solution": "In projective geometry (unlike Euclidean), even 'parallel' lines meet at a point at infinity. Any two distinct lines intersect in exactly one point. Socratic Hint: Projective geometry adds points at infinity.",
        "failure_modes": {
            "converse_error": "Student says 0 (thinking of parallel lines in Euclidean geometry).",
            "overcounting": "Student says 2."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "logic",
        "question": "The Pigeonhole Principle: if 13 people are in a room, at least how many must share a birth month?",
        "options": [
            "1",
            "2",
            "3",
            "4",
            "13"
        ],
        "correct_answer": "2",
        "ideal_solution": "12 months, 13 people: by pigeonhole, at least ceil(13/12) = 2 people share a month. Socratic Hint: 13 pigeons in 12 holes means at least one hole has 2.",
        "failure_modes": {
            "off_by_one": "Student says 1 (everyone could have different months... but 13 > 12).",
            "overcounting": "Student says 13 (all in the same month)."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "number_theory",
        "question": "What is the p-adic valuation v_2(120)? (The exponent of 2 in the prime factorization of 120)",
        "options": [
            "1",
            "2",
            "3",
            "4",
            "5"
        ],
        "correct_answer": "3",
        "ideal_solution": "120 = 2^3 * 3 * 5. The exponent of 2 is 3. So v_2(120) = 3. Socratic Hint: Factor 120 and find how many times 2 divides it.",
        "failure_modes": {
            "arithmetic_slip": "Student factors incorrectly: 120=2*60=2*2*30=2*2*2*15. v_2=3 ✓.",
            "formula_misapplication": "Student counts total prime factors."
        }
    },
    {
        "grade": 1,
        "level": 9,
        "difficulty": "gifted",
        "type": "algebra",
        "question": "The kernel of the linear transformation T: R^3 → R^2 defined by T(x,y,z) = (x+y, y+z) is:",
        "options": [
            "{(0,0,0)}",
            "{(t,-t,t) | t ∈ R}",
            "{(t,0,-t) | t ∈ R}",
            "{(t,t,t) | t ∈ R}",
            "R^3"
        ],
        "correct_answer": "{(t,-t,t) | t ∈ R}",
        "ideal_solution": "Kernel: x+y=0 and y+z=0. From first: x=-y. From second: z=-y. Let y=-t: x=t, y=-t, z=t. ker(T) = {(t,-t,t) | t ∈ R}. Socratic Hint: Set T(x,y,z) = (0,0) and solve.",
        "failure_modes": {
            "arithmetic_slip": "Student solves the system incorrectly.",
            "formula_misapplication": "Student confuses kernel with image."
        }
    }
]