<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="100%" height="100%">
    <defs>
        <!-- App Icon Background Gradient -->
        <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" stop-color="#3A1078"/>
            <stop offset="100%" stop-color="#1C0040"/>
        </linearGradient>

        <!-- Math Engineering Background Grid -->
        <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
            <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#FFFFFF" stroke-width="2" opacity="0.04"/>
        </pattern>

        <!-- Seamless Owl Body Shading Gradient -->
        <linearGradient id="bodyGrad" x1="0" y1="110" x2="0" y2="440" gradientUnits="userSpaceOnUse">
            <stop offset="0%" stop-color="#FFFFFF"/>
            <stop offset="70%" stop-color="#F9F6FE"/>
            <stop offset="100%" stop-color="#E2D6F3"/>
        </linearGradient>

        <!-- Owl Belly Gradient -->
        <linearGradient id="bellyGrad" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" stop-color="#F2ECFB"/>
            <stop offset="100%" stop-color="#DCD0F0"/>
        </linearGradient>

        <!-- Infinity Glasses Gradient (Magical Neon Tech) -->
        <linearGradient id="glassGrad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" stop-color="#00E5FF"/>
            <stop offset="100%" stop-color="#007AFF"/>
        </linearGradient>

        <!-- Graduation Cap Gradients -->
        <linearGradient id="capTopGrad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" stop-color="#FF2A7A"/>
            <stop offset="100%" stop-color="#C20D52"/>
        </linearGradient>
        <linearGradient id="capBaseGrad" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" stop-color="#D9105C"/>
            <stop offset="100%" stop-color="#800634"/>
        </linearGradient>

        <!-- Maximum Compatibility Filters for Inkscape / Older Renderers -->
        <!-- Filter regions are set large enough so Inkscape doesn't clip the edges -->
        <filter id="owlShadow" x="-50%" y="-50%" width="200%" height="200%">
            <feGaussianBlur in="SourceAlpha" stdDeviation="20" result="blur"/>
            <feOffset dx="0" dy="16" result="offset"/>
            <feFlood flood-color="#000000" flood-opacity="0.4" result="color"/>
            <feComposite in="color" in2="offset" operator="in" result="shadow"/>
            <feMerge>
                <feMergeNode in="shadow"/>
                <feMergeNode in="SourceGraphic"/>
            </feMerge>
        </filter>

        <filter id="hatShadow" x="-50%" y="-50%" width="200%" height="200%">
            <feGaussianBlur in="SourceAlpha" stdDeviation="6" result="blur"/>
            <feOffset dx="0" dy="8" result="offset"/>
            <feFlood flood-color="#000000" flood-opacity="0.3" result="color"/>
            <feComposite in="color" in2="offset" operator="in" result="shadow"/>
            <feMerge>
                <feMergeNode in="shadow"/>
                <feMergeNode in="SourceGraphic"/>
            </feMerge>
        </filter>

        <filter id="glassGlow" x="-50%" y="-50%" width="200%" height="200%">
            <!-- Neon Cyan Glow -->
            <feGaussianBlur in="SourceAlpha" stdDeviation="8" result="blur1"/>
            <feOffset dx="0" dy="6" result="offset1"/>
            <feFlood flood-color="#007AFF" flood-opacity="0.4" result="color1"/>
            <feComposite in="color1" in2="offset1" operator="in" result="shadow1"/>
            <!-- Crisp Inner Shadow / Core Depth -->
            <feGaussianBlur in="SourceAlpha" stdDeviation="2" result="blur2"/>
            <feOffset dx="0" dy="2" result="offset2"/>
            <feFlood flood-color="#000000" flood-opacity="0.2" result="color2"/>
            <feComposite in="color2" in2="offset2" operator="in" result="shadow2"/>
            <feMerge>
                <feMergeNode in="shadow1"/>
                <feMergeNode in="shadow2"/>
                <feMergeNode in="SourceGraphic"/>
            </feMerge>
        </filter>

        <filter id="starGlow" x="-50%" y="-50%" width="200%" height="200%">
            <feGaussianBlur in="SourceAlpha" stdDeviation="4" result="blur"/>
            <feOffset dx="0" dy="2" result="offset"/>
            <feFlood flood-color="#FFCF00" flood-opacity="0.6" result="color"/>
            <feComposite in="color" in2="offset" operator="in" result="shadow"/>
            <feMerge>
                <feMergeNode in="shadow"/>
                <feMergeNode in="SourceGraphic"/>
            </feMerge>
        </filter>
    </defs>

    <!-- App Icon Base Squircle -->
    <rect width="512" height="512" rx="115" fill="url(#bgGrad)"/>
    <rect width="512" height="512" rx="115" fill="url(#grid)"/>

    <!-- App Icon Inner Highlight for Polish -->
    <rect width="512" height="512" rx="115" fill="none" stroke="#6834B8" stroke-width="4" opacity="0.5"/>

    <!-- ================= BACKGROUND FLOATING MATH SYMBOLS ================= -->
    <g opacity="0.25">
        <g transform="translate(45, 90) rotate(15) scale(0.8)">
            <rect x="-20" y="-6" width="40" height="12" rx="6" fill="#00E5FF"/>
            <rect x="-6" y="-20" width="12" height="40" rx="6" fill="#00E5FF"/>
        </g>
        <g transform="translate(465, 90) rotate(45) scale(0.8)">
            <rect x="-20" y="-6" width="40" height="12" rx="6" fill="#FF2A7A"/>
            <rect x="-6" y="-20" width="12" height="40" rx="6" fill="#FF2A7A"/>
        </g>
        <g transform="translate(45, 420) rotate(-15) scale(0.8)">
            <rect x="-20" y="-4" width="40" height="8" rx="4" fill="#FFCF00"/>
            <circle cx="0" cy="-16" r="6" fill="#FFCF00"/>
            <circle cx="0" cy="16" r="6" fill="#FFCF00"/>
        </g>
        <g transform="translate(465, 420) rotate(20) scale(0.8)">
            <rect x="-20" y="-12" width="40" height="8" rx="4" fill="#32D74B"/>
            <rect x="-20" y="4" width="40" height="8" rx="4" fill="#32D74B"/>
        </g>
        <g transform="translate(100, 50) scale(0.6) rotate(-10)" fill="none" stroke="#B56BFF" stroke-width="12" stroke-linecap="round" stroke-linejoin="round">
            <path d="M -20 0 L -10 10 L 10 -20 L 30 -20"/>
        </g>
        <g transform="translate(480, 250) scale(0.6) rotate(10)" fill="#B56BFF">
            <rect x="-22" y="-18" width="44" height="10" rx="5"/>
            <rect x="-14" y="-8" width="10" height="26" rx="5"/>
            <rect x="4" y="-8" width="10" height="26" rx="5"/>
        </g>
    </g>

    <!-- Floating Sparkles -->
    <path d="M 0,-12 C 0,-2 2,0 12,0 C 2,0 0,2 0,12 C 0,2 -2,0 -12,0 C -2,0 0,-2 0,-12 Z" fill="#FFFFFF" opacity="0.6" transform="translate(450, 60) scale(1)"/>
    <path d="M 0,-12 C 0,-2 2,0 12,0 C 2,0 0,2 0,12 C 0,2 -2,0 -12,0 C -2,0 0,-2 0,-12 Z" fill="#FFFFFF" opacity="0.4" transform="translate(30, 260) scale(0.6)"/>
    <path d="M 0,-12 C 0,-2 2,0 12,0 C 2,0 0,2 0,12 C 0,2 -2,0 -12,0 C -2,0 0,-2 0,-12 Z" fill="#FFFFFF" opacity="0.5" transform="translate(120, 470) scale(0.5)"/>

    <!-- ================= MAIN OWL CHARACTER ================= -->
    <!-- FIX: separated transform from filter into nested groups to prevent Inkscape vanishing bug -->
    <g transform="translate(256, 256) scale(1.3) translate(-256, -287)">
        <g filter="url(#owlShadow)">

            <!-- Feet -->
            <rect x="180" y="425" width="40" height="30" rx="15" fill="#FF9F0A"/>
            <rect x="292" y="425" width="40" height="30" rx="15" fill="#FF9F0A"/>

            <!-- Wings (Tucked in) -->
            <rect x="96" y="240" width="40" height="110" rx="20" fill="url(#bodyGrad)"/>
            <rect x="376" y="240" width="40" height="110" rx="20" fill="url(#bodyGrad)"/>

            <!-- Plumicorns / Ears -->
            <path d="M 140 230 L 162 135 Q 165 125 168 135 L 230 200 Z" fill="url(#bodyGrad)"/>
            <path d="M 372 230 L 350 135 Q 347 125 344 135 L 282 200 Z" fill="url(#bodyGrad)"/>

            <!-- Main Body -->
            <rect x="116" y="150" width="280" height="290" rx="140" fill="url(#bodyGrad)"/>

            <!-- Inner Belly -->
            <rect x="166" y="310" width="180" height="100" rx="50" fill="url(#bellyGrad)"/>

            <!-- Gifted Star Badge on Belly -->
            <!-- FIX: nested groups again to bypass Inkscape filter coordinate bugs -->
            <g transform="translate(256, 360) scale(1.2)">
                <g filter="url(#starGlow)">
                    <polygon points="0,-16 4.7,-4.8 16,-4.8 7.2,1.6 10,12.8 0,6.4 -10,12.8 -7.2,1.6 -16,-4.8 -4.7,-4.8" fill="#FFCF00"/>
                </g>
            </g>

            <!-- Cute Blush -->
            <ellipse cx="160" cy="265" rx="14" ry="8" fill="#FF2A7A" opacity="0.25"/>
            <ellipse cx="352" cy="265" rx="14" ry="8" fill="#FF2A7A" opacity="0.25"/>

            <!-- Beak -->
            <path d="M 242 260 L 270 260 L 256 282 Z" fill="#FFCF00" stroke="#FFCF00" stroke-width="5" stroke-linejoin="round"/>

            <!-- Infinity Glasses / Eyes Wrapper -->
            <g>
                <!-- Glasses Frame -->
                <path d="M 256 230
                         C 220 170, 140 170, 140 230
                         C 140 290, 220 290, 256 230
                         C 292 170, 372 170, 372 230
                         C 372 290, 292 290, 256 230 Z"
                      fill="none"
                      stroke="url(#glassGrad)"
                      stroke-width="24"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      filter="url(#glassGlow)"/>

                <!-- Left Eye & Catchlights -->
                <circle cx="198" cy="230" r="22" fill="#1C0040"/>
                <circle cx="190" cy="222" r="7" fill="#FFFFFF"/>
                <circle cx="206" cy="238" r="2.5" fill="#FFFFFF"/>

                <!-- Right Eye & Catchlights -->
                <circle cx="314" cy="230" r="22" fill="#1C0040"/>
                <circle cx="306" cy="222" r="7" fill="#FFFFFF"/>
                <circle cx="322" cy="238" r="2.5" fill="#FFFFFF"/>
            </g>

            <!-- Graduation Cap (Gifted Symbol) -->
            <!-- FIX: nested groups here to separate rotation from shadow filter -->
            <g transform="translate(322, 134) rotate(22) scale(1.4)">
                <g filter="url(#hatShadow)">
                    <!-- Cap Base -->
                    <rect x="-18" y="0" width="36" height="24" rx="4" fill="url(#capBaseGrad)"/>

                    <!-- Hanging Tassel -->
                    <g transform="translate(19, -6) rotate(-22)">
                        <line x1="0" y1="0" x2="0" y2="24" stroke="#FFCF00" stroke-width="2" stroke-linecap="round"/>
                        <circle cx="0" cy="24" r="2.5" fill="#FFCF00"/>
                        <polygon points="0,24 -4,36 4,36" fill="#FFCF00" stroke-linejoin="round"/>
                    </g>

                    <!-- Cap Top Board -->
                    <polygon points="0,-16 38,4 0,24 -38,4" fill="url(#capTopGrad)"/>

                    <!-- Top String -->
                    <path d="M 0 4 Q 8 -1 19 -6" fill="none" stroke="#FFCF00" stroke-width="2" stroke-linecap="round"/>

                    <!-- Center Button -->
                    <circle cx="0" cy="4" r="3" fill="#FFCF00"/>
                </g>
            </g>

        </g>
    </g>
</svg>
